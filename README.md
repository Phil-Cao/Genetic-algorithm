# Genetic-algorithm
遗传算法求解TSP问题
【实验目的】
通过TSP问题的求解熟悉并掌握遗传算法。
TSP问题简介：
旅行推销员问题（英语：Travelling salesman problem, TSP）是这样一个问题：给定一系列城市和每对城市之间的距离，求解访问每一座城市一次并回到起始城市的最短回路。它是组合优化中的一个NP困难问题，在运筹学和理论计算机科学中非常重要。
【实验原理】
遗传算法简介：
遗传算法（英语：genetic algorithm (GA) ）是计算数学中用于解决最佳化的搜索算法，是进化算法的一种。进化算法最初是借鉴了进化生物学中的一些现象而发展起来的，这些现象包括遗传、突变、自然选择以及杂交等。
遗传算法通常实现方式为一种计算机模拟。对于一个最优化问题，一定数量的候选解（称为个体）可抽象表示为染色体，使种群向更好的解进化。传统上，解用二进制表示（即0和1的串），但也可以用其他表示方法。进化从完全随机个体的种群开始，之后一代一代发生。在每一代中评价整个种群的适应度，从当前种群中随机地选择多个个体（基于它们的适应度），通过自然选择和突变产生新的生命种群，该种群在算法的下一次迭代中成为当前种群。
遗传算法的机理：
在遗传算法里，优化问题的解被称为个体，它表示为一个变量序列，叫做染色体或者基因串。染色体一般被表达为简单的字符串或数字串，不过也有其他的依赖于特殊问题的表示方法适用，这一过程称为编码。首先，算法随机生成一定数量的个体，有时候操作者也可以干预这个随机产生过程，以提高初始种群的质量。在每一代中，都会评价每一个体，并通过计算适应度函数得到适应度数值。按照适应度排序种群个体，适应度高的在前面。这里的“高”是相对于初始的种群的低适应度而言。
下一步是产生下一代个体并组成种群。这个过程是通过选择和繁殖完成，其中繁殖包括交配（crossover，在算法研究领域中我们称之为交叉操作）和突变（mutation）。选择则是根据新个体的适应度进行，但同时不意味着完全以适应度高低为导向，因为单纯选择适应度高的个体将可能导致算法快速收敛到局部最优解而非全局最优解，我们称之为早熟。作为折中，遗传算法依据原则：适应度越高，被选择的机会越高，而适应度低的，被选择的机会就低。初始的数据可以通过这样的选择过程组成一个相对优化的群体。之后，被选择的个体进入交配过程。一般的遗传算法都有一个交配概率（又称为交叉概率），范围一般是0.6~1，这个交配概率反映两个被选中的个体进行交配的概率。例如，交配概率为0.8，则80%的“夫妻”会生育后代。每两个个体通过交配产生两个新个体，代替原来的“老”个体，而不交配的个体则保持不变。交配父母的染色体相互交换，从而产生两个新的染色体，第一个个体前半段是父亲的染色体，后半段是母亲的，第二个个体则正好相反。不过这里的半段并不是真正的一半，这个位置叫做交配点，也是随机产生的，可以是染色体的任意位置。再下一步是突变，通过突变产生新的“子”个体。一般遗传算法都有一个固定的突变常数（又称为变异概率），通常是0.1或者更小，这代表变异发生的概率。根据这个概率，新个体的染色体随机的突变，通常就是改变染色体的一个字节（0变到1，或者1变到0）。
经过这一系列的过程（选择、交配和突变），产生的新一代个体不同于初始的一代，并一代一代向增加整体适应度的方向发展，因为总是更常选择最好的个体产生下一代，而适应度低的个体逐渐被淘汰掉。这样的过程不断的重复：评价每个个体，计算适应度，两两交配，然后突变，产生第三代。周而复始，直到终止条件满足为止。一般终止条件有以下几种：
进化次数限制；
计算耗费的资源限制（例如计算时间、计算占用的内存等）；
一个个体已经满足最优值的条件，即最优值已经找到；
适应度已经达到饱和，继续进化不会产生适应度更好的个体；
人为干预；
以及以上两种或更多种的组合。
细节处理：
在本次试验的最开始我选用了C++语言对中国三十四个城市经纬度的模拟，由于基础的GA算法中会产生很多的无用变异，所以我对每次变异进行了检查，一旦发现无用的变异，就采取反转操作，重新进行变异操作，在对于本次题目中出现的数据结构：
种群规模（P,population size）：即种群中染色体个体的数目。
字串长度（l, string length）：个体中染色体的长度。
交叉概率（pc, probability of performing crossover）：控制着交叉算子的使用频率。交叉操作可以加快收敛，使解达到最有希望的最优解区域，因此一般取较大的交叉概率，但交叉概率太高也可能导致过早收敛。
变异概率（pm, probability of mutation）：控制着变异算子的使用频率。
中止条件（termination criteria）
我均采用了数组对其分别进行模拟，这是因为数组中的数据易于操作，更因为本次试验中对于数据的操作都是变换而不是删减，这是我使用数组而不是链表的一个更重要的原因！
在后期实验中，我想使用一种更加直观的方式来展示遗传变异的过程，所以我使用了python语言，因为python语言中拥有更加丰富的绘图工具库，使得编程的结果更加直观。
输入数据：由TXT文件给定中国34个城市的经纬度；python版随机生成30个坐标；
输出数据：c++输出到TXT文件，给出每次遗传的情况以及最优解；python版给出动态演示！
【实验结果】
当我在尝试200000代遗传的时候出现了内存无法分配的情况，而在对实验结果分析的时候我发现：GA算法经常会出现早熟的情况，随着遗传代数的增加，结果趋于完美，但一直会在进化，有时会出现隔几万代才会出现一次有益进化的情况！
